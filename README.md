# Telegram –±–æ—Ç –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞

Telegram-–±–æ—Ç –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö —Å–ª–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL. –ë–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —É–≥–∞–¥—ã–≤–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã —Å–ª–æ–≤ –∏ –≤–µ–¥–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

![–°—Ö–µ–º–∞ —Ç–∞–±–ª–∏—Ü –≤ –±–¥ Postgres](./schema.png)

- **–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —Å–ª–æ–≤**: –ë–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç 4 –≤–∞—Ä–∏–∞–Ω—Ç–∞ –æ—Ç–≤–µ—Ç–∞ –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ —Ä—É—Å—Å–∫–æ–≥–æ —Å–ª–æ–≤–∞ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö —Å–ª–æ–≤**: –ü–æ—Å–ª–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –Ω–æ–≤–æ–µ —Å–ª–æ–≤–æ
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —Å–≤–æ–∏ —Å–ª–æ–≤–∞ –≤ —Å–ª–æ–≤–∞—Ä—å
- **–£–¥–∞–ª–µ–Ω–∏–µ —Å–ª–æ–≤**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª—è—Ç—å —Å–ª–æ–≤–∞ –∏–∑ —Å–ª–æ–≤–∞—Ä—è
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: –ö–æ–º–∞–Ω–¥–∞ `/stats` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ø-3 –ª–∏–¥–µ—Ä–æ–≤ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –∏ –æ—à–∏–±–æ–∫
- **–ò—Å—Ç–æ—Ä–∏—è –æ–±—É—á–µ–Ω–∏—è**: –í—Å–µ –æ—Ç–≤–µ—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ bot_instance.py    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞ –∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π
‚îú‚îÄ‚îÄ config.py          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Ç–æ–∫–µ–Ω, DSN –∏–∑ .env)
‚îú‚îÄ‚îÄ default_db.py      # –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –∏ –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ë–î
‚îú‚îÄ‚îÄ handlers.py        # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –∫–æ–º–∞–Ω–¥
‚îú‚îÄ‚îÄ main.py            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∑–∞–ø—É—Å–∫ polling
‚îú‚îÄ‚îÄ models.py          # –ú–æ–¥–µ–ª–∏ SQLAlchemy (—Å—Ö–µ–º–∞ –ë–î)
‚îú‚îÄ‚îÄ schema.png         # –°—Ö–µ–º–∞ —Ç–∞–±–ª–∏—Ü –ë–î
‚îú‚îÄ‚îÄ services.py        # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Å–ª–æ–≤–∞, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
‚îú‚îÄ‚îÄ validators.py      # –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞ (—è–∑—ã–∫, –¥–ª–∏–Ω–∞, –Ω–µ –ø—É—Å—Ç–æ)
‚îú‚îÄ‚îÄ requirements.txt  # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```

3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —É–∫–∞–∂–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ë–î:
   ```
   TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
   DB_HOST=—Ö–æ—Å—Ç_–±–¥
   DB_PORT=–ø–æ—Ä—Ç_–±–¥
   DB_USER=–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å_–±–¥
   DB_PASSWORD=–ø–∞—Ä–æ–ª—å_–±–¥
   DB_NAME=–∏–º—è_–±–¥
   ```

4. –°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤–∏—á–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é:
   ```bash
   python default_db.py
   ```

## –ó–∞–ø—É—Å–∫

```bash
python main.py
```

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` - –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã —Å –±–æ—Ç–æ–º
- `/stats` - –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (—Ç–æ–ø-3 –ª–∏–¥–µ—Ä–æ–≤)
- `–¢—Ä–µ–Ω—å–∫–∞!` - –ù–∞—á–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É
- `–î–∞–ª—å—à–µ ‚è≠` - –ü–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–ª–æ–≤—É
- `–î–æ–±–∞–≤–∏—Ç—å —Å–ª–æ–≤–æ ‚ûï` - –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ —Å–ª–æ–≤–æ –≤ —Å–ª–æ–≤–∞—Ä—å
- `–£–¥–∞–ª–∏—Ç—å —Å–ª–æ–≤–æüîô` - –£–¥–∞–ª–∏—Ç—å —Å–ª–æ–≤–æ –∏–∑ —Å–ª–æ–≤–∞—Ä—è

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL. –¢–∞–±–ª–∏—Ü—ã:

- **users** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (tg_id, username)
- **words** ‚Äî –æ–±—â–∏–π —Å–ª–æ–≤–∞—Ä—å (original, translation)
- **dictionaries** ‚Äî —Å–ª–æ–≤–∞, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (added_eng_word, added_rus_word)
- **learning_history** ‚Äî –ø–æ –∫–∞–∂–¥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ —Å–ª–æ–≤—É: —Å—á—ë—Ç—á–∏–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤, –æ—à–∏–±–æ–∫ –∏ –ø–æ–∫–∞–∑–æ–≤

–î–ª–∏–Ω–∞ –ø–æ–ª–µ–π ¬´—Å–ª–æ–≤–æ/–ø–µ—Ä–µ–≤–æ–¥¬ª –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ (—Å–º. `validators.MAX_WORD_LENGTH` –∏ –º–æ–¥–µ–ª–∏).

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –±–æ—Ç—É
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø–æ —Ç–∞–±–ª–∏—Ü–µ `learning_history`; –∫–æ–º–∞–Ω–¥–∞ `/stats` –≤—ã–≤–æ–¥–∏—Ç —Ç–æ–ø-3
- –í–≤–æ–¥ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏/—É–¥–∞–ª–µ–Ω–∏–∏ —Å–ª–æ–≤ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è: –Ω–µ –ø—É—Å—Ç–æ, –Ω—É–∂–Ω—ã–π —è–∑—ã–∫ (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π/—Ä—É—Å—Å–∫–∏–π), –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –¥–ª–∏–Ω–µ
- –û—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è (–º–æ–¥—É–ª—å `logging`)
